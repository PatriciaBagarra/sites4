(function e(t,n){if(typeof exports==="object"&&typeof module==="object")module.exports=n();else if(typeof define==="function"&&define.amd)define("whatInput",[],n);else if(typeof exports==="object")exports["whatInput"]=n();else t["whatInput"]=n()})(this,function(){return function(n){var o={};function r(e){if(o[e])return o[e].exports;var t=o[e]={exports:{},id:e,loaded:false};n[e].call(t.exports,t,t.exports,r);t.loaded=true;return t.exports}r.m=n;r.c=o;r.p="";return r(0)}([function(e,t){"use strict";e.exports=function(){var u="initial";var s=null;var o=document.documentElement;var d=["input","select","textarea"];var r=[];var f=[16,17,18,91,93];var v=[9];var c={keydown:"keyboard",mousedown:"mouse",mousemove:"mouse",MSPointerDown:"pointer",MSPointerMove:"pointer",pointerdown:"pointer",pointermove:"pointer",touchstart:"touch"};var t=[];var p=false;var i=false;var a={x:null,y:null};var n={2:"touch",3:"touch",4:"mouse"};var l=false;try{var e=Object.defineProperty({},"passive",{get:function e(){l=true}});window.addEventListener("test",null,e)}catch(e){}var m=function e(){c[M()]="mouse";w();y()};var w=function e(){if(window.PointerEvent){o.addEventListener("pointerdown",h);o.addEventListener("pointermove",x)}else if(window.MSPointerEvent){o.addEventListener("MSPointerDown",h);o.addEventListener("MSPointerMove",x)}else{o.addEventListener("mousedown",h);o.addEventListener("mousemove",x);if("ontouchstart"in window){o.addEventListener("touchstart",E);o.addEventListener("touchend",E)}}o.addEventListener(M(),x,l?{passive:true}:false);o.addEventListener("keydown",h)};var h=function e(t){if(!p){var n=t.which;var o=c[t.type];if(o==="pointer")o=b(t);if(u!==o||s!==o){var r=document.activeElement;var i=false;var a=r&&r.nodeName&&d.indexOf(r.nodeName.toLowerCase())===-1;if(a||v.indexOf(n)!==-1){i=true}if(o==="touch"||o==="mouse"||o==="keyboard"&&n&&i&&f.indexOf(n)===-1){u=s=o;y()}}}};var y=function e(){o.setAttribute("data-whatinput",u);o.setAttribute("data-whatintent",u);if(t.indexOf(u)===-1){t.push(u);o.className+=" whatinput-types-"+u}L("input")};var x=function e(t){if(a["x"]!==t.screenX||a["y"]!==t.screenY){i=false;a["x"]=t.screenX;a["y"]=t.screenY}else{i=true}if(!p&&!i){var n=c[t.type];if(n==="pointer")n=b(t);if(s!==n){s=n;o.setAttribute("data-whatintent",s);L("intent")}}};var E=function e(t){if(t.type==="touchstart"){p=false;h(t)}else{p=true}};var L=function e(t){for(var n=0,o=r.length;n<o;n++){if(r[n].type===t){r[n].function.call(undefined,s)}}};var b=function e(t){if(typeof t.pointerType==="number"){return n[t.pointerType]}else{return t.pointerType==="pen"?"touch":t.pointerType}};var M=function e(){var t=void 0;if("onwheel"in document.createElement("div")){t="wheel"}else{t=document.onmousewheel!==undefined?"mousewheel":"DOMMouseScroll"}return t};if("addEventListener"in window&&Array.prototype.indexOf){m()}return{ask:function e(t){return t==="loose"?s:u},types:function e(){return t},ignoreKeys:function e(t){f=t},onChange:function e(t,n){r.push({function:t,type:n})}}}()}])});