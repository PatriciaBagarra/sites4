jQuery(window).scroll(function(){var e=jQuery(window).scrollTop();if(e>30){jQuery(".headerSection").addClass("fixed-header")}else{jQuery(".headerSection").removeClass("fixed-header")}});jQuery(".toggle").click(function(){jQuery("body").toggleClass("actNav")});function arrowNavigation(e,t){switch(t.which){case 38:e.parent().parent().prev().find(".seo_input:first").focus();break;case 40:e.parent().parent().next().find(".seo_input:first").focus();break}}var max_length_title_dt=580;var max_length_url_dt=385;var max_length_meta_dt=990;var max_length_title_mb=580;var max_length_url_mb=270;var max_length_meta_mb=990;var max_length_title=max_length_title_dt;var max_length_url=max_length_url_dt;var max_length_meta=max_length_meta_dt;var title_font_dt="20px arial";var url_font_dt="16px arial";var meta_font_dt="14px arial";var title_font_mb="16x Roboto";var url_font_mb="14px Roboto";var meta_font_mb="14px Roboto";var title_font=title_font_dt;var url_font=url_font_dt;var meta_font=meta_font_dt;jQuery.fn.textWidth=function(e,t){if(!jQuery.fn.textWidth.fakeEl)jQuery.fn.textWidth.fakeEl=jQuery('<span style="left: -500%; max-width: 1500px;">').hide().appendTo(document.body);jQuery.fn.textWidth.fakeEl.text(e||this.val()||this.text()).css("font",t||this.css("font"));var l=jQuery.fn.textWidth.fakeEl.width();return l};function substringPixels(e,t,l){pixel_width=0;for(var r=0,_="";_=e.charAt(r);r++){if(pixel_width+jQuery.fn.textWidth(_,l)>t){return e.substring(0,r);break}else{pixel_width=pixel_width+jQuery.fn.textWidth(_,l)}}return e}jQuery("#mode_mobile").click(function(){setSEOMode("mobile")});jQuery("#mode_desktop").click(function(){setSEOMode("desktop")});function setSEOMode(e){if(e==="mobile"){jQuery(".mode_active").removeClass("mode_active");jQuery("#mode_mobile").addClass("mode_active");jQuery("#show_mobile").prop("checked",true);jQuery("#seo_result").hide();jQuery("#seo_result_mobile").show();title_font=title_font_mb;url_font=url_font_mb;meta_font=meta_font_mb;max_length_title=max_length_title_mb;max_length_url=max_length_url_mb;max_length_meta=max_length_meta_mb;jQuery("#text_title").trigger("keyup");jQuery("#text_url").trigger("keyup");jQuery("#text_desc").trigger("keyup")}else if(e==="desktop"){jQuery(".mode_active").removeClass("mode_active");jQuery("#mode_desktop").addClass("mode_active");jQuery("#show_mobile").prop("checked",false);jQuery("#seo_result_mobile").hide();jQuery("#seo_result").show();title_font=title_font_dt;url_font=url_font_dt;meta_font=meta_font_dt;max_length_title=max_length_title_dt;max_length_url=max_length_url_dt;max_length_meta=max_length_meta_dt;jQuery("#text_title").trigger("keyup");jQuery("#text_url").trigger("keyup");jQuery("#text_desc").trigger("keyup")}}jQuery("#text_title").keyup(function(e){arrowNavigation(jQuery(this),e);title_pixel_length=jQuery.fn.textWidth(jQuery("#text_title").val(),title_font);curr_length="";if(title_pixel_length>max_length_title){title_chunks=jQuery("#text_title").val().split(" ");real_result="";real_length=0;prev_result="";for(var t=0,l=title_chunks.length;t<l;t++){new_title_length=Math.ceil(parseFloat(real_length)+parseFloat(jQuery.fn.textWidth(title_chunks[t],title_font)));if(new_title_length<max_length_title){prev_result=real_result;real_result+=" "+title_chunks[t];console.log("prev_result : "+prev_result+"("+new_title_length+")");console.log("real_result : "+real_result+"("+jQuery.fn.textWidth(real_result,title_font)+")")}else if(title_chunks.length===1){real_result=substringPixels(title_chunks[0],max_length_title,title_font)+" ..."}else{console.log("Okay here we go...");console.log("prev_result: "+prev_result);if(jQuery.fn.textWidth(real_result,title_font)>max_length_title){real_result=prev_result}var r=0;while(!real_result.slice(-1).match(/[a-zåäöA-ZÅÄÖ0-9]/i)){if(r>10){break}real_result=real_result.slice(0,-1);r++}real_result+=" ...";break}real_length=jQuery.fn.textWidth(real_result,title_font)}if(jQuery("#show_mobile").prop("checked")){jQuery("#seo_title_mobile").text(real_result)}else{jQuery("#seo_title").text(real_result)}curr_length="<strong><span class='alert_text'>"+Math.ceil(title_pixel_length)+"px</span></strong>"}else if(jQuery("#show_mobile").prop("checked")){jQuery("#seo_title_mobile").text(jQuery("#text_title").val());curr_length=Math.ceil(title_pixel_length)+"px"}else{jQuery("#seo_title").text(jQuery("#text_title").val());curr_length=Math.ceil(title_pixel_length)+"px"}jQuery("#title_length").html("("+curr_length+" / "+max_length_title+"px)");jQuery("#title_length_mobile").html("("+curr_length+" / "+max_length_title+"px)")});jQuery("#text_desc").keyup(function(e){arrowNavigation(jQuery(this),e);meta_text=jQuery("#text_desc").val();if(jQuery("#date").prop("checked")){meta_text="24 Dec, 2020 - "+meta_text}prepend_string="";meta_pixel_length=jQuery.fn.textWidth(meta_text,meta_font);if(meta_pixel_length>max_length_meta){meta_chunks=meta_text.split(" ");real_result="";real_length=0;for(var t=0,l=meta_chunks.length;t<l;t++){new_meta_string=real_result+" "+meta_chunks[t];new_meta_length=Math.ceil(jQuery.fn.textWidth(new_meta_string,meta_font));if(new_meta_length<max_length_meta){real_result+=" "+meta_chunks[t]}else if(meta_chunks.length===1){real_result=jQuery.fn.textWidth(meta_chunks[t],meta_font)+" ..."}else{var r=0;split_chunk=meta_chunks[t].replace(/,/g," ").split(" ")[0];if(real_length+jQuery.fn.textWidth(split_chunk,meta_font)+jQuery.fn.textWidth(". ..",meta_font)<max_length_meta){real_result+=" "+split_chunk}real_result+=" ...";break}real_length=jQuery.fn.textWidth(real_result,meta_font)}if(jQuery("#show_mobile").prop("checked")){jQuery("#seo_meta_mobile").text(real_result.replace("24 Dec, 2020 - ",""))}else{jQuery("#seo_meta").text(real_result.replace("24 Dec, 2020 - ",""))}curr_length="<strong><span class='alert_text'>"+Math.ceil(meta_pixel_length)+"px</span></strong>"}else if(jQuery("#show_mobile").prop("checked")){jQuery("#seo_meta_mobile").text(jQuery("#text_desc").val());curr_length=Math.ceil(meta_pixel_length)+"px"}else{jQuery("#seo_meta").text(jQuery("#text_desc").val());curr_length=Math.ceil(meta_pixel_length)+"px"}jQuery("#meta_desc_length").html("("+curr_length+" / "+max_length_meta+"px)");jQuery("#meta_desc_length_mobile").html("("+curr_length+" / "+max_length_meta+"px)")});jQuery("#text_url").keyup(function(e){console.log("triggered!");console.log("whatis this",jQuery("#text_url").val());arrowNavigation(jQuery(this),e);var t=jQuery("#text_url").val().replace(/\s+/g," ").replace(/([^\/])(\/)([^\/])/g,"$1 › $3").replace(".html","").replace(/\/$/,"");t=mobileURL(t);if(jQuery("#show_mobile").prop("checked")){jQuery("#seo_favcrumbs_mobile").text(jQuery("#text_url").val().replace(/\s+/g," ").replace(/([^\/])(\/)([^\/])/g,"$1 › $3").replace(/\/$/,""))}else{jQuery("#seo_url").text(jQuery("#text_url").val().replace(/^https?:\/\//,"").replace(/\s+/g," ").replace(/([^\/])(\/)([^\/])/g,"$1 › $3").replace(/\/$/,""));if(t!==undefined){t=t.replace(/^https?:\/\//,"")}}url_pixel_length=jQuery.fn.textWidth(t,url_font);curr_length="";offset=0;if(jQuery("#show_cached").prop("checked")&&jQuery("#text_url").val()!=""){offset=54}if(url_pixel_length>max_length_url-offset){if(jQuery("#show_mobile").prop("checked")){jQuery("#seo_url_mobile").html(truncateUrlMobile(t))}else{jQuery("#seo_favcrumbs_mobile").text(jQuery("#text_url").val().replace(/\s+/g," ").replace(/([^\/])(\/)([^\/])/g,"$1 › $3").replace(/\/$/,""));jQuery("#seo_url").html(truncateUrlMobile(t))}curr_length="<strong><span class='alert_text'>"+Math.floor(url_pixel_length+offset)+"px</span></strong>"}else if(jQuery("#show_mobile").prop("checked")){jQuery("#seo_url_mobile").html(t);curr_length=Math.floor(url_pixel_length)+offset+"px"}else{jQuery("#seo_url").text(jQuery("#text_url").val().replace(/^https?:\/\//,"").replace(/\s+/g," ").replace(/([^\/])(\/)([^\/])/g,"$1 › $3").replace(/\/$/,""));curr_length=Math.floor(url_pixel_length)+offset+"px"}jQuery("#url_length").html("("+curr_length+" / "+max_length_url+"px)");jQuery("#url_length_mobile").html("("+curr_length+" / "+max_length_url+"px)")});function mobileURL(e){if(e.length>7&&e.includes("../../../index.html")){if(e.endsWith("../../../index.html")){e=e.slice(0,-1)}exp=e.split(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/);prefix_string=exp[2]+":"+exp[3];path=exp[5].replace(/\//g," › ");if(path===" > "){path=""}if(e.indexOf("https://")==0){return prefix_string+path}else{return exp[4]+path}}}function truncateUrlMobile(e){suffix_length=jQuery.fn.textWidth("...",url_font);allowed_length=max_length_url-suffix_length;surl=e;for(var t=0;surl=surl.substring(0,surl.length-1);t++){if(jQuery.fn.textWidth(surl,url_font)<=allowed_length){return surl+"...";break}else{}}}jQuery("#seo_title").click(function(){url=jQuery("#seo_url").text();if(!/^https?:\/\//i.test(url)){url="http://"+url}window.open(url)});jQuery("#date").click(function(){var e="8 Apr, 2021 - ";var t="seo_meta";if(jQuery("#show_mobile").prop("checked")){e="8 Apr 2021 · ";t="seo_meta_mobile"}if(jQuery("#date").prop("checked")){jQuery("#text_desc").trigger("keyup");jQuery("#"+t).prepend('<span id="rich_date">'+e+"</span>")}else{jQuery("#"+t).html(jQuery("#seo_meta").html().replace(e,""));jQuery("#text_desc").trigger("keyup")}});jQuery("#richsnippet").click(function(){jQuery("#rich_div_mobile").toggle();jQuery("#rich_div").toggle()});